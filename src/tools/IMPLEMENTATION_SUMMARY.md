# å‰ç«¯å·¥å…·ç³»ç»Ÿå®ç°å®Œæˆ

## å·²åˆ›å»ºçš„æ–‡ä»¶

### æ ¸å¿ƒç³»ç»Ÿæ–‡ä»¶

1. **`src/tools/index.js`** (11KB)
   - å·¥å…·åŸºç±»å®šä¹‰ `createTool()`
   - 18 ä¸ªé¢„å®šä¹‰å·¥å…·
   - å·¥å…·æŸ¥è¯¢å‡½æ•°
   - JSON Schema ç”Ÿæˆå™¨ï¼ˆç”¨äº AIï¼‰

2. **`src/tools/categories.js`** (864B)
   - å·¥å…·åˆ†ç±»å¸¸é‡
   - åˆ†ç±»å›¾æ ‡æ˜ å°„
   - åˆ†ç±»åç§°æ˜ å°„
   - åˆ†ç±»é¢œè‰²æ˜ å°„

3. **`src/tools/validator.js`** (4.3KB)
   - å‚æ•°éªŒè¯å‡½æ•°
   - æƒé™æ£€æŸ¥å‡½æ•°
   - å±é™©æ“ä½œæ£€æµ‹
   - ç»“æœæ ¼å¼åŒ–å·¥å…·
   - ä½¿ç”¨å»ºè®®ç”Ÿæˆå™¨

4. **`src/tools/executor.js`** (4.3KB)
   - Vue Composable å½¢å¼çš„å·¥å…·æ‰§è¡Œå™¨
   - å•ä¸ªå·¥å…·æ‰§è¡Œ
   - æ‰¹é‡å·¥å…·æ‰§è¡Œ
   - æ‰§è¡Œå†å²ç®¡ç†
   - å·¥å…·ç»Ÿè®¡åŠŸèƒ½

### æ–‡æ¡£å’Œæµ‹è¯•

5. **`src/tools/README.md`** (7.3KB)
   - å®Œæ•´çš„å·¥å…·ç³»ç»Ÿæ–‡æ¡£
   - å·¥å…·åˆ—è¡¨å’Œå‚æ•°è¯´æ˜
   - æ ¸å¿ƒç‰¹æ€§ä»‹ç»
   - æ‰©å±•å»ºè®®

6. **`src/tools/USAGE.md`** (8.9KB)
   - è¯¦ç»†ä½¿ç”¨ç¤ºä¾‹
   - Vue ç»„ä»¶é›†æˆç¤ºä¾‹
   - AI é›†æˆç¤ºä¾‹
   - é”™è¯¯å¤„ç†æœ€ä½³å®è·µ

7. **`src/tools/__tests__/tools.test.js`** (8.5KB)
   - å®Œæ•´çš„å•å…ƒæµ‹è¯•
   - è¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
   - ä½¿ç”¨ Vitest æ¡†æ¶

8. **`src/components/ToolsDemo.vue`** (æ–°å¢)
   - å¯è§†åŒ–æ¼”ç¤ºç»„ä»¶
   - å±•ç¤ºæ‰€æœ‰å·¥å…·
   - æ‰§è¡Œå†å²å±•ç¤º
   - ç»Ÿè®¡ä¿¡æ¯é¢æ¿

## å®ç°çš„å·¥å…·åˆ—è¡¨

### ğŸ“ æ–‡ä»¶ç³»ç»Ÿ (4 ä¸ªå·¥å…·)

| å·¥å…·å | å›¾æ ‡ | æè¿° | éœ€è¦æ‰¹å‡† |
|--------|------|------|----------|
| `read_file` | ğŸ“„ | è¯»å–æ–‡ä»¶å†…å®¹ | å¦ |
| `write_file` | âœï¸ | å†™å…¥æ–‡ä»¶ï¼ˆè‡ªåŠ¨å¤‡ä»½ï¼‰ | æ˜¯ |
| `list_files` | ğŸ“ | åˆ—å‡ºç›®å½•å†…å®¹ | å¦ |
| `search_files` | ğŸ” | æœç´¢æ–‡ä»¶ï¼ˆglobæ¨¡å¼ï¼‰ | å¦ |

### âš¡ å‘½ä»¤æ‰§è¡Œ (1 ä¸ªå·¥å…·)

| å·¥å…·å | å›¾æ ‡ | æè¿° | éœ€è¦æ‰¹å‡† |
|--------|------|------|----------|
| `execute_command` | âš¡ | æ‰§è¡Œ shell å‘½ä»¤ | åŠ¨æ€æ£€æµ‹* |

*å±é™©å‘½ä»¤ï¼ˆrm, sudo, mv, dd, mkfs ç­‰ï¼‰éœ€è¦æ‰¹å‡†

### ğŸ§­ å¯¼èˆª (2 ä¸ªå·¥å…·)

| å·¥å…·å | å›¾æ ‡ | æè¿° | éœ€è¦æ‰¹å‡† |
|--------|------|------|----------|
| `get_current_dir` | ğŸ“‚ | è·å–å½“å‰å·¥ä½œç›®å½• | å¦ |
| `change_directory` | ğŸš€ | åˆ‡æ¢å·¥ä½œç›®å½• | å¦ |

### ğŸ” ä»£ç åˆ†æ (2 ä¸ªå·¥å…·)

| å·¥å…·å | å›¾æ ‡ | æè¿° | éœ€è¦æ‰¹å‡† |
|--------|------|------|----------|
| `analyze_code` | ğŸ”¬ | åˆ†æä»£ç ç»“æ„ | å¦ |
| `find_in_files` | ğŸ” | åœ¨æ–‡ä»¶ä¸­æœç´¢å†…å®¹ | å¦ |

### ğŸ”€ Git æ“ä½œ (4 ä¸ªå·¥å…·)

| å·¥å…·å | å›¾æ ‡ | æè¿° | éœ€è¦æ‰¹å‡† |
|--------|------|------|----------|
| `git_status` | ğŸ”€ | æŸ¥çœ‹ Git çŠ¶æ€ | å¦ |
| `git_diff` | ğŸ“Š | æŸ¥çœ‹ä»£ç æ”¹åŠ¨ | å¦ |
| `git_log` | ğŸ“œ | æŸ¥çœ‹æäº¤å†å² | å¦ |
| `git_branch` | ğŸŒ¿ | æŸ¥çœ‹æˆ–åˆ‡æ¢åˆ†æ”¯ | åˆ‡æ¢æ—¶éœ€è¦ |

### âš™ï¸ ç³»ç»Ÿç®¡ç† (3 ä¸ªå·¥å…·)

| å·¥å…·å | å›¾æ ‡ | æè¿° | éœ€è¦æ‰¹å‡† |
|--------|------|------|----------|
| `list_processes` | âš™ï¸ | åˆ—å‡ºè¿è¡Œä¸­çš„è¿›ç¨‹ | å¦ |
| `kill_process` | ğŸ›‘ | ç»ˆæ­¢è¿›ç¨‹ | æ˜¯ |
| `get_env_info` | ğŸ’» | è·å–ç³»ç»Ÿç¯å¢ƒä¿¡æ¯ | å¦ |

### ğŸŒ ç½‘ç»œå·¥å…· (2 ä¸ªå·¥å…·)

| å·¥å…·å | å›¾æ ‡ | æè¿° | éœ€è¦æ‰¹å‡† |
|--------|------|------|----------|
| `test_connection` | ğŸŒ | æµ‹è¯•ç½‘ç»œè¿æ¥ | å¦ |
| `check_port` | ğŸ”Œ | æ£€æŸ¥ç«¯å£å ç”¨ | å¦ |

## æ¯ä¸ªå·¥å…·çš„ç”¨é€”

### æ–‡ä»¶ç³»ç»Ÿå·¥å…·

- **read_file**: AI å¯ä»¥è¯»å–é¡¹ç›®æ–‡ä»¶ï¼Œåˆ†æä»£ç ã€é…ç½®ç­‰
- **write_file**: AI å¯ä»¥ä¿®æ”¹æ–‡ä»¶ï¼Œè‡ªåŠ¨å¤‡ä»½é¿å…æ•°æ®ä¸¢å¤±
- **list_files**: AI å¯ä»¥æµè§ˆç›®å½•ç»“æ„ï¼Œäº†è§£é¡¹ç›®ç»„ç»‡
- **search_files**: AI å¯ä»¥å¿«é€Ÿå®šä½ç‰¹å®šæ–‡ä»¶ï¼ˆå¦‚ `*.vue`, `*.config.js`ï¼‰

### å‘½ä»¤æ‰§è¡Œå·¥å…·

- **execute_command**: AI å¯ä»¥æ‰§è¡Œå„ç§å‘½ä»¤ï¼ˆnpmã€gitã€build ç­‰ï¼‰
  - è‡ªåŠ¨æ£€æµ‹å±é™©å‘½ä»¤ï¼ˆrm -rf, sudoï¼‰
  - çµæ´»çš„å·¥ä½œç›®å½•è®¾ç½®

### å¯¼èˆªå·¥å…·

- **get_current_dir**: AI äº†è§£å½“å‰å·¥ä½œç¯å¢ƒ
- **change_directory**: AI å¯ä»¥åˆ‡æ¢åˆ°ä¸åŒçš„é¡¹ç›®ç›®å½•

### ä»£ç åˆ†æå·¥å…·

- **analyze_code**: ä»£ç ç»“æ„åˆ†æï¼ˆå¾…å®Œå–„ï¼‰
- **find_in_files**: æœç´¢ TODOã€FIXMEã€ç‰¹å®šå‡½æ•°ç­‰

### Git å·¥å…·

- **git_status**: æŸ¥çœ‹å½“å‰ä¿®æ”¹çŠ¶æ€
- **git_diff**: æŸ¥çœ‹å…·ä½“æ”¹åŠ¨å†…å®¹
- **git_log**: äº†è§£æäº¤å†å²
- **git_branch**: ç®¡ç†åˆ†æ”¯ï¼ˆæŸ¥çœ‹å’Œåˆ‡æ¢ï¼‰

### ç³»ç»Ÿç®¡ç†å·¥å…·

- **list_processes**: æŸ¥çœ‹è¿è¡Œçš„æœåŠ¡å’Œè¿›ç¨‹
- **kill_process**: ç»ˆæ­¢å¡æ­»çš„è¿›ç¨‹
- **get_env_info**: è·å–ç³»ç»Ÿä¿¡æ¯ï¼ˆNodeã€npmã€Git ç‰ˆæœ¬ç­‰ï¼‰

### ç½‘ç»œå·¥å…·

- **test_connection**: æµ‹è¯•ç½‘ç»œè¿æ¥
- **check_port**: æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼ˆè°ƒè¯•æœåŠ¡å¯åŠ¨é—®é¢˜ï¼‰

## ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨

```javascript
import { useToolExecutor } from '@/tools/executor'

const { executeTool } = useToolExecutor({
  currentDir: '/Users/project',
  sessionId: 'session-123'
})

// è¯»å–æ–‡ä»¶
const result = await executeTool('read_file', {
  path: '/Users/project/package.json'
})
console.log(result.output)
```

### å¸¦æƒé™æ§åˆ¶

```javascript
await executeTool('write_file', {
  path: '/Users/project/config.json',
  content: JSON.stringify({ key: 'value' })
}, {
  onApprovalRequired: async (tool, params) => {
    return confirm(`ç¡®è®¤å†™å…¥ ${params.path}ï¼Ÿ`)
  }
})
```

### æ‰¹é‡æ‰§è¡Œ

```javascript
const results = await executeBatch([
  { tool: 'git_status', params: {} },
  { tool: 'git_diff', params: {} },
  { tool: 'list_files', params: { dir: '/src' } }
])
```

### åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨

```vue
<script setup>
import { useToolExecutor } from '@/tools/executor'

const {
  executingTool,
  lastResult,
  executionHistory,
  toolStats,
  executeTool
} = useToolExecutor()

const readFile = async () => {
  await executeTool('read_file', {
    path: '/path/to/file'
  })
}
</script>
```

## åç»­å¯æ‰©å±•çš„å·¥å…·å»ºè®®

### é«˜ä¼˜å…ˆçº§ (æ ¸å¿ƒåŠŸèƒ½)

1. **ä»£ç åˆ†æå¢å¼º**
   - `parse_ast` - è§£æ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰
   - `find_references` - æŸ¥æ‰¾ç¬¦å·å¼•ç”¨
   - `find_definitions` - æŸ¥æ‰¾å®šä¹‰ä½ç½®
   - `analyze_dependencies` - ä¾èµ–å…³ç³»åˆ†æ
   - `detect_unused_code` - æ£€æµ‹æœªä½¿ç”¨ä»£ç 

2. **é¡¹ç›®ç®¡ç†**
   - `npm_install` - å®‰è£…ä¾èµ–
   - `npm_run_script` - è¿è¡Œ package.json è„šæœ¬
   - `get_package_info` - è·å–åŒ…ä¿¡æ¯
   - `update_dependencies` - æ›´æ–°ä¾èµ–

3. **æµ‹è¯•å·¥å…·**
   - `run_tests` - è¿è¡Œæµ‹è¯•
   - `run_specific_test` - è¿è¡Œç‰¹å®šæµ‹è¯•
   - `coverage_report` - ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
   - `lint_code` - ä»£ç æ£€æŸ¥

### ä¸­ä¼˜å…ˆçº§ (å¢å¼ºåŠŸèƒ½)

4. **Docker æ”¯æŒ**
   - `docker_build` - æ„å»ºé•œåƒ
   - `docker_run` - è¿è¡Œå®¹å™¨
   - `docker_logs` - æŸ¥çœ‹æ—¥å¿—
   - `docker_ps` - åˆ—å‡ºå®¹å™¨

5. **æ•°æ®åº“å·¥å…·**
   - `query_database` - æ‰§è¡ŒæŸ¥è¯¢
   - `backup_database` - æ•°æ®åº“å¤‡ä»½
   - `restore_database` - æ¢å¤å¤‡ä»½
   - `migrate_database` - è¿è¡Œè¿ç§»

6. **ç›‘æ§å·¥å…·**
   - `get_system_metrics` - ç³»ç»ŸæŒ‡æ ‡ï¼ˆCPUã€å†…å­˜ï¼‰
   - `get_app_metrics` - åº”ç”¨æŒ‡æ ‡
   - `check_logs` - æŸ¥çœ‹æ—¥å¿—
   - `alert_status` - å‘Šè­¦çŠ¶æ€

### ä½ä¼˜å…ˆçº§ (è¾…åŠ©åŠŸèƒ½)

7. **åä½œå·¥å…·**
   - `create_github_issue` - åˆ›å»º Issue
   - `comment_on_pr` - è¯„è®º PR
   - `send_slack_message` - å‘é€ Slack æ¶ˆæ¯
   - `create_jira_ticket` - åˆ›å»º Jira ç¥¨æ®

8. **æ–‡æ¡£å·¥å…·**
   - `generate_api_docs` - ç”Ÿæˆ API æ–‡æ¡£
   - `update_readme` - æ›´æ–° README
   - `create_changelog` - åˆ›å»ºå˜æ›´æ—¥å¿—
   - `generate_diagram` - ç”Ÿæˆæ¶æ„å›¾

9. **éƒ¨ç½²å·¥å…·**
   - `deploy_to_production` - ç”Ÿäº§éƒ¨ç½²
   - `deploy_to_staging` - é¢„å‘å¸ƒéƒ¨ç½²
   - `rollback_deployment` - å›æ»šéƒ¨ç½²
   - `check_deployment_status` - æ£€æŸ¥éƒ¨ç½²çŠ¶æ€

## æ ¸å¿ƒç‰¹æ€§

### 1. å®‰å…¨æ€§
- âœ… å‚æ•°éªŒè¯
- âœ… æƒé™æ§åˆ¶ï¼ˆéœ€è¦æ‰¹å‡†çš„æ“ä½œï¼‰
- âœ… å±é™©æ“ä½œæ£€æµ‹
- âœ… æ‰§è¡Œå®¡è®¡æ—¥å¿—

### 2. å¯æ‰©å±•æ€§
- âœ… ç®€å•çš„å·¥å…·æ³¨å†Œæœºåˆ¶
- âœ… æ”¯æŒè‡ªå®šä¹‰å·¥å…·
- âœ… çµæ´»çš„æƒé™é…ç½®
- âœ… åˆ†ç±»ç®¡ç†

### 3. æ˜“ç”¨æ€§
- âœ… Vue Composable é›†æˆ
- âœ… æ¸…æ™°çš„ API
- âœ… å®Œæ•´çš„ TypeScript æ”¯æŒï¼ˆå»ºè®®æ·»åŠ ï¼‰
- âœ… è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹

### 4. AI å‹å¥½
- âœ… JSON Schema ç”Ÿæˆ
- âœ… Function Calling æ”¯æŒ
- âœ… ç»“æ„åŒ–çš„å·¥å…·æè¿°
- âœ… ç»Ÿä¸€çš„å‚æ•°æ ¼å¼

### 5. å¯è§‚æµ‹æ€§
- âœ… æ‰§è¡Œå†å²
- âœ… ç»Ÿè®¡ä¿¡æ¯
- âœ… æ€§èƒ½æŒ‡æ ‡
- âœ… é”™è¯¯è¿½è¸ª

## ä¸‹ä¸€æ­¥å»ºè®®

1. **æ·»åŠ  TypeScript ç±»å‹å®šä¹‰**
   - åˆ›å»º `src/tools/types.ts`
   - ä¸ºæ‰€æœ‰å·¥å…·æ·»åŠ ç±»å‹

2. **å®ç°ä»£ç åˆ†æå·¥å…·**
   - é›†æˆ AST è§£æå™¨ï¼ˆ@babel/parserï¼‰
   - å®ç°å¼•ç”¨æŸ¥æ‰¾
   - å®ç°å®šä¹‰è·³è½¬

3. **æ·»åŠ æ›´å¤šæµ‹è¯•**
   - é›†æˆæµ‹è¯•
   - E2E æµ‹è¯•
   - æ€§èƒ½æµ‹è¯•

4. **ä¼˜åŒ–æ€§èƒ½**
   - æ·»åŠ ç¼“å­˜æœºåˆ¶
   - å¹¶è¡Œæ‰§è¡Œä¼˜åŒ–
   - èµ„æºé™åˆ¶

5. **å®Œå–„æ–‡æ¡£**
   - API æ–‡æ¡£
   - æœ€ä½³å®è·µ
   - æ•…éšœæ’æŸ¥æŒ‡å—

## æ€»ç»“

å·²æˆåŠŸåˆ›å»ºå®Œæ•´çš„å‰ç«¯å·¥å…·ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š

- âœ… 18 ä¸ªé¢„å®šä¹‰å·¥å…·ï¼Œè¦†ç›– 7 ä¸ªç±»åˆ«
- âœ… å®Œæ•´çš„å®‰å…¨æœºåˆ¶å’Œæƒé™æ§åˆ¶
- âœ… Vue Composable å½¢å¼çš„æ‰§è¡Œå™¨
- âœ… è¯¦ç»†çš„æ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹
- âœ… å®Œæ•´çš„å•å…ƒæµ‹è¯•
- âœ… å¯è§†åŒ–æ¼”ç¤ºç»„ä»¶
- âœ… AI é›†æˆæ”¯æŒï¼ˆJSON Schemaï¼‰

ç³»ç»Ÿå·²ç»å¯ä»¥æŠ•å…¥ä½¿ç”¨ï¼Œåç»­å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€æ­¥æ·»åŠ æ›´å¤šå·¥å…·ã€‚
